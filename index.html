<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Community Kitchen Cafe | Welcome</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
</head>
<body>
  <header>
    <h1>Community Kitchen Cafe</h1>
    <nav id="nav-auth">
      <a href="menu.html">Menu</a>
      <a href="cart.html">Cart üõí (<span id="cart-count">0</span>)</a>
      <button onclick="showLogin()" id="loginBtn">Login / Sign Up</button>
    </nav>
  </header>

  <section class="container">
  <h2>Explore Our Signature Flavors</h2>
  <p>Discover what makes our kitchen unique ‚Äî from traditional dishes to vibrant international tastes.</p>
  <div class="explore-carousel">
    <div class="explore-item">
      <img src="images/authen.png" alt="Dish 1">
      <p>Authentic Tibs</p>
    </div>
    <div class="explore-item">
      <img src="images/firfir.png" alt="Dish 2">
      <p>Kitfo Excellence</p>
    </div>
    <div class="explore-item">
      <img src="images/vegie.png" alt="Dish 3">
      <p>Veggie Delight</p>
    </div>
    <div class="explore-item">
      <img src="images/tips.png" alt="Dish 4">
      <p>Firfir Favorites</p>
    </div>

  </div>
  
    <div style="margin-top: 30px;">
      <a href="menu.html" class="btn">Start Your Order</a>
    </div>
</section>


  <div class="container">
    <h2>Welcome to Community Kitchen Cafe</h2>
    <p>Where delicious meals meet a friendly community. Browse our menu, build your cart, and enjoy simple online checkout.</p>
    <img src="images/new.png" alt="Cafe Welcome" style="width:100%; max-width:800px; border-radius:8px; margin-top:20px;">
    <div style="margin-top: 30px;">
      <a href="menu.html" class="btn">Start Your Order</a>
    </div>
  </div>
   

  <section class="container">
  <h2>We're Growing in North Carolina!</h2>
  <p style="font-size: 1.1rem; max-width: 800px; margin: auto;">
    <strong>Community Kitchen Cafe</strong> is opening our <strong>3rd location</strong> in North Carolina ‚Äî and it‚Äôs a full-service restaurant!
    Come savor international dishes made with love, and know that every bite you take supports someone‚Äôs journey to a better life.
  </p>
  <p style="font-weight: bold; color: #007b8f; margin-top: 1rem;">Food with a Purpose. Eat well. Do good. Change lives.</p>

  <p style="margin-top: 30px;">
    <strong>Fresh breakfast, lunch, and dinner</strong> made to order ‚Äî each morning we start bright and early, carefully preparing
    fresh, high-quality ingredients to create experiences that not only taste amazing, but feel just right.
  </p>

  <p style="margin-top: 10px; color: #333;">
    üìç <strong>Location:</strong> 4808 Central Ave, Charlotte, NC 28205<br />
    üìû <strong>Phone:</strong> <a href="tel:9802392234" style="color: #007b8f;">980-239-2234</a>
  </p>

  <div style="margin: 30px auto; max-width: 100%; overflow: hidden; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3309.6918657056423!2d-80.764799!3d35.2211515!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88541c4cddf989b7%3A0x89e3d20d3fbb7804!2s4808%20Central%20Ave%2C%20Charlotte%2C%20NC%2028205!5e0!3m2!1sen!2sus!4v1715972244567!5m2!1sen!2sus"
      width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>

  <img src="img/flyer.png" alt="Grand Opening Flyer" style="margin-top: 30px; border-radius: 8px; max-width: 100%; box-shadow: 0 4px 10px rgba(0,0,0,0.1);" />
</section>

  <!-- Login Modal -->
  <div id="loginModal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.3); z-index:999;">
    <h2>Login</h2>
    <input id="loginEmail" type="text" placeholder="Email" /><br />
    <input id="loginPassword" type="password" placeholder="Password" /><br />
    <button onclick="loginUser()">Login</button>
    <button onclick="closeModals()">Cancel</button><br /><br />
    <small>Don't have an account? <a href="#" onclick="showSignup()">Sign Up</a></small>
  </div>

  <!-- Signup Modal -->
  <div id="signupModal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.3); z-index:999;">
    <h2>Sign Up</h2>
    <input id="signupName" type="text" placeholder="Full Name" /><br />
    <input id="signupEmail" type="text" placeholder="Email" /><br />
    <input id="signupPassword" type="password" placeholder="Password" /><br />
    <button onclick="registerUser()">Register</button>
    <button onclick="closeModals()">Cancel</button><br /><br />
    <small>Already have an account? <a href="#" onclick="showLogin()">Login</a></small>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD4DGWnXcK8tI0eExe7B7lsBsbT78zwXp4",
      authDomain: "auth-5a12b.firebaseapp.com",
      projectId: "auth-5a12b",
      storageBucket: "auth-5a12b.appspot.com",
      messagingSenderId: "1022649726429",
      appId: "1:1022649726429:web:b07f8ee9ddb30360a2f234"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    auth.onAuthStateChanged(user => {
      const nav = document.getElementById('nav-auth');
      if (user) {
        const displayName = user.displayName || user.email;
        nav.innerHTML = `
          <a href="menu.html">Menu</a>
          <a href="cart.html">Cart</a>
          <span style="color:#fff; font-weight:bold;">Hello, ${displayName}</span>
          <div class="dropdown">
            <button class="btn">My Profile ‚ñæ</button>
            <div class="dropdown-content" style="position:absolute; background:#fff; box-shadow:0 0 10px rgba(0,0,0,0.1); padding:10px; border-radius:4px;">
              <a href="profile.html">Order History</a>
              <a href="#" onclick="logout()">Logout</a>
            </div>
          </div>
        `;
      }
    });

    function logout() {
      auth.signOut().then(() => window.location.reload());
    }

    function showLogin() {
      closeModals();
      document.getElementById('loginModal').style.display = 'block';
    }

    function showSignup() {
      closeModals();
      document.getElementById('signupModal').style.display = 'block';
    }

    function closeModals() {
      document.getElementById('loginModal').style.display = 'none';
      document.getElementById('signupModal').style.display = 'none';
    }

    function loginUser() {
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      auth.signInWithEmailAndPassword(email, password)
        .then(() => closeModals())
        .catch(err => alert(err.message));
    }

    function registerUser() {
      const name = document.getElementById('signupName').value;
      const email = document.getElementById('signupEmail').value;
      const password = document.getElementById('signupPassword').value;
      auth.createUserWithEmailAndPassword(email, password)
        .then(userCredential => userCredential.user.updateProfile({ displayName: name }))
        .then(() => closeModals())
        .catch(err => alert(err.message));
    }
  </script>

  <script>
  function addToCart(name, price, image_url = '') {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart.push({ name, price, image_url });
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    alert(`${name} added to cart`);
  }

  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const countSpan = document.getElementById('cart-count');
    if (countSpan) countSpan.textContent = cart.length;
  }

  // Auto-update count on load
  window.onload = updateCartCount;
</script>
<footer>
  <p>&copy; 2025 Community Kitchen Cafe. All rights reserved.</p>
  <p><a href="mailto:info@communitycafe.com">info@communitycafe.com</a> | <a href="tel:+19802392234">(980) 239-2234</a></p>
  <p>4808 Central Ave, Charlotte, NC 28205</p>
  <p>Fresh. Local. With Purpose.</p>
</footer>
</body>
</html>